<div class="container">
  <div>
    <h5 class="bg-light text-center ml-5 mb-4">カテゴリー一覧・追加</h5>
  </div>
  <%= render 'layouts/error_messages', resource: @category %>
  <div class="col">
    <%= form_with model: @category, url: admin_categories_path do |f| %>
      <div class="form-row">
        <%= f.label :variety, "親カテゴリー", class: "col-2 col-form-label font-weight-bold" %>
        <%= f.select :variety, Category.varieties_i18n.invert, {prompt: '選択してください'}, class: 'col-5 form-control' %>
      </div>
      <div class="form-row mt-2">
        <%= f.label :name, "カテゴリー名", class: "col-2 col-form-label font-weight-bold" %>
        <%= f.text_field :name, class: 'col-5 form-control', placeholder: 'カテゴリー名' %>
      </div>
      <div class="d-flex justify-content-center mt-4 ">
        <%= f.submit '新規登録', class: 'btn btn-success px-4' %>
      </div>
    <% end %>
  </div>

    <div class="ml-0 mt-4 px-0">
      <table class="table table-hover">
        <thead>
          <tr>
            <th class="bg-light col-3">カテゴリ名</th>
            <th class="bg-light col-3">親カテゴリ</th>
            <th class="bg-light col-3"></th>
          </tr>
        </thead>
        <tbody>
          <% @categories.each do |category| %>
            <tr>
              <td><%= category.name %></td>
              <td><%= Category.varieties_i18n[category.variety] %></td>
              <td>
                <%= link_to '編集する', edit_admin_category_path(category), class: 'btn btn-success px-3' %>
              </td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>
